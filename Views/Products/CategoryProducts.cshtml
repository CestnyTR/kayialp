@{
    var culture = (string?)ViewData["Culture"] ?? "tr";
    int page = 1; int.TryParse(Context.Request.Query["page"], out page);
    int pageSize = 9; int.TryParse(Context.Request.Query["pageSize"], out pageSize);

    int? categoryId = null;
    if (int.TryParse(Context.Request.Query["id"], out var cid)) categoryId = cid;
    var slug = (string?)Context.Request.Query["slug"];
}

<!-- … breadcumb kısmın aynı … -->
<div class="breadcumb-area ">
    <div class="breadcumb-wrapper" data-bg-src="/img/bg/breadcumb-bg.jpg">
        <div class="container">
            <div class="breadcumb-content">
                <h1 class="breadcumb-title">@Html.Localize(key:"pages.layout.products")</h1>
                <ul class="breadcumb-menu">
                    <li><a href="/">@Html.Localize("pages.layout.index")</a></li>
                    <li><a asp-controller="Products" asp-action="Index" asp-route-culture="@ViewData["Culture"]">@Html.Localize(key:"pages.layout.productCategory")</a></li>
                    <li>@Html.Localize(key:"pages.layout.products")</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<section class="space-top space-extra-bottom">
  <div class="container">
    <div class="row gy-40">
      <div class="tab-content" id="nav-tabContent">
        <div class="tab-pane fade active show" id="tab-grid" role="tabpanel" aria-labelledby="tab-shop-grid">

          @await Component.InvokeAsync("ProductGrid",
              new { categoryId = categoryId, slug = slug, page = page, pageSize = pageSize })

        </div>
      </div>
    </div>
  </div>
</section>
